{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"/Users/macdecusmai/Desktop/teletherapy-platform/frontend/src/pages/PatientDashboard.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { useNavigate } from \"react-router-dom\";\nimport api from \"../services/api\";\nimport Button from \"../components/Button\";\nimport Card from \"../components/Card\";\nimport Modal from \"../components/Modal\";\nimport LoadingSpinner from \"../components/LoadingSpinner\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction PatientDashboard() {\n  _s();\n  const {\n    user,\n    logout\n  } = useAuth();\n  const navigate = useNavigate();\n  const [profile, setProfile] = useState(null);\n  const [therapists, setTherapists] = useState([]);\n  const [sessions, setSessions] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showBookingModal, setShowBookingModal] = useState(false);\n  const [selectedTherapist, setSelectedTherapist] = useState(null);\n  const [availableSlots, setAvailableSlots] = useState([]);\n  useEffect(() => {\n    fetchData();\n  }, []);\n  const fetchData = async () => {\n    try {\n      const [profileRes, therapistsRes, sessionsRes] = await Promise.all([api.get(\"/auth/profile/\"), api.get(\"/auth/therapists/\"), api.get(\"/sessions/\")]);\n      setProfile(profileRes.data);\n      setTherapists(therapistsRes.data.results || therapistsRes.data);\n      setSessions(sessionsRes.data.results || sessionsRes.data);\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleInitialTest = () => {\n    navigate(\"/initial-test\");\n  };\n  const handleBookSession = async therapist => {\n    setSelectedTherapist(therapist);\n    try {\n      const response = await api.get(`/sessions/therapist/${therapist.id}/availability/`);\n      setAvailableSlots(response.data.available_slots);\n      setShowBookingModal(true);\n    } catch (error) {\n      console.error(\"Error fetching availability:\", error);\n    }\n  };\n  const confirmBooking = async datetime => {\n    try {\n      await api.post(\"/sessions/\", {\n        therapist: selectedTherapist.id,\n        scheduled_datetime: datetime,\n        duration_minutes: 60\n      });\n      setShowBookingModal(false);\n      fetchData(); // Refresh sessions\n    } catch (error) {\n      console.error(\"Error booking session:\", error);\n    }\n  };\n  const joinSession = session => {\n    navigate(`/session/${session.id}`);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 12\n    }, this);\n  }\n  const needsInitialTest = (profile === null || profile === void 0 ? void 0 : profile.profile) && !profile.profile.initial_test_completed;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"bg-white shadow-sm border-b\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center py-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-2xl font-bold text-gray-900\",\n              children: [\"Bienvenido, \", user.first_name || user.username]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: \"Panel de Paciente\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            onClick: logout,\n            children: \"Cerrar Sesi\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n      children: [needsInitialTest && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8 bg-yellow-50 border border-yellow-200 rounded-lg p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-shrink-0\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"h-5 w-5 text-yellow-400\",\n              viewBox: \"0 0 20 20\",\n              fill: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fillRule: \"evenodd\",\n                d: \"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\",\n                clipRule: \"evenodd\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-3 flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-sm font-medium text-yellow-800\",\n              children: \"Completa tu evaluaci\\xF3n inicial\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-1 text-sm text-yellow-700\",\n              children: \"Para brindarte la mejor atenci\\xF3n, necesitamos conocer m\\xE1s sobre ti.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-4\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              size: \"small\",\n              onClick: handleInitialTest,\n              children: \"Completar Test\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-3 gap-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-2 space-y-8\",\n          children: [/*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold text-gray-900 mb-4\",\n              children: \"Pr\\xF3ximas Sesiones\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 15\n            }, this), sessions.filter(s => [\"scheduled\", \"confirmed\"].includes(s.status)).length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: sessions.filter(s => [\"scheduled\", \"confirmed\"].includes(s.status)).slice(0, 3).map(session => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border border-gray-200 rounded-lg p-4\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-start\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: \"font-medium text-gray-900\",\n                      children: [\"Sesi\\xF3n con \", session.therapist_name]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 145,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-600\",\n                      children: new Date(session.scheduled_datetime).toLocaleString(\"es-ES\")\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 146,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `inline-block px-2 py-1 text-xs rounded-full mt-2 ${session.status === \"confirmed\" ? \"bg-green-100 text-green-800\" : \"bg-yellow-100 text-yellow-800\"}`,\n                      children: session.status_display\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 149,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 144,\n                    columnNumber: 27\n                  }, this), session.status === \"confirmed\" && session.video_link && /*#__PURE__*/_jsxDEV(Button, {\n                    size: \"small\",\n                    onClick: () => joinSession(session),\n                    children: \"Unirse\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 160,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 25\n                }, this)\n              }, session.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500 text-center py-8\",\n              children: \"No tienes sesiones programadas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold text-gray-900 mb-4\",\n              children: \"Terapeutas Disponibles\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n              children: therapists.map(therapist => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border border-gray-200 rounded-lg p-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-medium text-gray-900\",\n                  children: [therapist.user.first_name, \" \", therapist.user.last_name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600 mb-2\",\n                  children: therapist.specialty_display\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500 mb-3\",\n                  children: [therapist.years_experience, \" a\\xF1os de experiencia\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-yellow-400\",\n                      children: \"\\u2605\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 186,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm text-gray-600 ml-1\",\n                      children: therapist.average_rating || \"N/A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 187,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 185,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    size: \"small\",\n                    onClick: () => handleBookSession(therapist),\n                    disabled: !needsInitialTest ? false : true,\n                    children: \"Agendar\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 189,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 21\n                }, this)]\n              }, therapist.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-gray-900 mb-4\",\n              children: \"Mi Perfil\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: \"Email:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 19\n                }, this), \" \", user.email]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: \"Tel\\xE9fono:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 19\n                }, this), \" \", user.phone || \"No especificado\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 17\n              }, this), (profile === null || profile === void 0 ? void 0 : profile.profile) && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: \"Test inicial:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 218,\n                    columnNumber: 23\n                  }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: profile.profile.initial_test_completed ? \"text-green-600\" : \"text-red-600\",\n                    children: profile.profile.initial_test_completed ? \"Completado\" : \"Pendiente\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 219,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-gray-900 mb-4\",\n              children: \"Historial de Sesiones\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Total de sesiones:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: sessions.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Completadas:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium text-green-600\",\n                  children: sessions.filter(s => s.status === \"completed\").length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Canceladas:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium text-red-600\",\n                  children: sessions.filter(s => s.status === \"cancelled\").length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: showBookingModal,\n      onClose: () => setShowBookingModal(false),\n      title: `Agendar sesión con ${selectedTherapist === null || selectedTherapist === void 0 ? void 0 : selectedTherapist.user.first_name} ${selectedTherapist === null || selectedTherapist === void 0 ? void 0 : selectedTherapist.user.last_name}`,\n      size: \"large\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Selecciona un horario disponible:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-2 max-h-60 overflow-y-auto\",\n          children: availableSlots.map((slot, index) => /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            size: \"small\",\n            onClick: () => confirmBooking(slot.datetime),\n            className: \"text-left\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-medium\",\n                children: slot.date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-500\",\n                children: slot.time\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 17\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this), availableSlots.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center text-gray-500 py-4\",\n          children: \"No hay horarios disponibles en los pr\\xF3ximos 7 d\\xEDas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n}\n_s(PatientDashboard, \"A44TAht0xKGx7acSD8bFeWf+cnw=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = PatientDashboard;\nexport default PatientDashboard;\nvar _c;\n$RefreshReg$(_c, \"PatientDashboard\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useState","useEffect","useAuth","useNavigate","api","Button","Card","Modal","LoadingSpinner","jsxDEV","_jsxDEV","Fragment","_Fragment","PatientDashboard","user","logout","navigate","profile","setProfile","therapists","setTherapists","sessions","setSessions","loading","setLoading","showBookingModal","setShowBookingModal","selectedTherapist","setSelectedTherapist","availableSlots","setAvailableSlots","fetchData","profileRes","therapistsRes","sessionsRes","Promise","all","get","data","results","error","console","handleInitialTest","handleBookSession","therapist","response","id","available_slots","confirmBooking","datetime","post","scheduled_datetime","duration_minutes","joinSession","session","fileName","lineNumber","columnNumber","needsInitialTest","initial_test_completed","className","children","first_name","username","variant","onClick","viewBox","fill","fillRule","d","clipRule","size","filter","s","includes","status","length","slice","map","therapist_name","Date","toLocaleString","status_display","video_link","last_name","specialty_display","years_experience","average_rating","disabled","email","phone","isOpen","onClose","title","slot","index","date","time","_c","$RefreshReg$"],"sources":["/Users/macdecusmai/Desktop/teletherapy-platform/frontend/src/pages/PatientDashboard.jsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { useAuth } from \"../contexts/AuthContext\"\nimport { useNavigate } from \"react-router-dom\"\nimport api from \"../services/api\"\nimport Button from \"../components/Button\"\nimport Card from \"../components/Card\"\nimport Modal from \"../components/Modal\"\nimport LoadingSpinner from \"../components/LoadingSpinner\"\n\nfunction PatientDashboard() {\n  const { user, logout } = useAuth()\n  const navigate = useNavigate()\n  const [profile, setProfile] = useState(null)\n  const [therapists, setTherapists] = useState([])\n  const [sessions, setSessions] = useState([])\n  const [loading, setLoading] = useState(true)\n  const [showBookingModal, setShowBookingModal] = useState(false)\n  const [selectedTherapist, setSelectedTherapist] = useState(null)\n  const [availableSlots, setAvailableSlots] = useState([])\n\n  useEffect(() => {\n    fetchData()\n  }, [])\n\n  const fetchData = async () => {\n    try {\n      const [profileRes, therapistsRes, sessionsRes] = await Promise.all([\n        api.get(\"/auth/profile/\"),\n        api.get(\"/auth/therapists/\"),\n        api.get(\"/sessions/\"),\n      ])\n\n      setProfile(profileRes.data)\n      setTherapists(therapistsRes.data.results || therapistsRes.data)\n      setSessions(sessionsRes.data.results || sessionsRes.data)\n    } catch (error) {\n      console.error(\"Error fetching data:\", error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleInitialTest = () => {\n    navigate(\"/initial-test\")\n  }\n\n  const handleBookSession = async (therapist) => {\n    setSelectedTherapist(therapist)\n    try {\n      const response = await api.get(`/sessions/therapist/${therapist.id}/availability/`)\n      setAvailableSlots(response.data.available_slots)\n      setShowBookingModal(true)\n    } catch (error) {\n      console.error(\"Error fetching availability:\", error)\n    }\n  }\n\n  const confirmBooking = async (datetime) => {\n    try {\n      await api.post(\"/sessions/\", {\n        therapist: selectedTherapist.id,\n        scheduled_datetime: datetime,\n        duration_minutes: 60,\n      })\n      setShowBookingModal(false)\n      fetchData() // Refresh sessions\n    } catch (error) {\n      console.error(\"Error booking session:\", error)\n    }\n  }\n\n  const joinSession = (session) => {\n    navigate(`/session/${session.id}`)\n  }\n\n  if (loading) {\n    return <LoadingSpinner />\n  }\n\n  const needsInitialTest = profile?.profile && !profile.profile.initial_test_completed\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <header className=\"bg-white shadow-sm border-b\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center py-4\">\n            <div>\n              <h1 className=\"text-2xl font-bold text-gray-900\">Bienvenido, {user.first_name || user.username}</h1>\n              <p className=\"text-gray-600\">Panel de Paciente</p>\n            </div>\n            <Button variant=\"outline\" onClick={logout}>\n              Cerrar Sesión\n            </Button>\n          </div>\n        </div>\n      </header>\n\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Initial Test Alert */}\n        {needsInitialTest && (\n          <div className=\"mb-8 bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <svg className=\"h-5 w-5 text-yellow-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                  <path\n                    fillRule=\"evenodd\"\n                    d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\"\n                    clipRule=\"evenodd\"\n                  />\n                </svg>\n              </div>\n              <div className=\"ml-3 flex-1\">\n                <h3 className=\"text-sm font-medium text-yellow-800\">Completa tu evaluación inicial</h3>\n                <p className=\"mt-1 text-sm text-yellow-700\">\n                  Para brindarte la mejor atención, necesitamos conocer más sobre ti.\n                </p>\n              </div>\n              <div className=\"ml-4\">\n                <Button size=\"small\" onClick={handleInitialTest}>\n                  Completar Test\n                </Button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n          {/* Main Content */}\n          <div className=\"lg:col-span-2 space-y-8\">\n            {/* Upcoming Sessions */}\n            <Card>\n              <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">Próximas Sesiones</h2>\n              {sessions.filter((s) => [\"scheduled\", \"confirmed\"].includes(s.status)).length > 0 ? (\n                <div className=\"space-y-4\">\n                  {sessions\n                    .filter((s) => [\"scheduled\", \"confirmed\"].includes(s.status))\n                    .slice(0, 3)\n                    .map((session) => (\n                      <div key={session.id} className=\"border border-gray-200 rounded-lg p-4\">\n                        <div className=\"flex justify-between items-start\">\n                          <div>\n                            <h3 className=\"font-medium text-gray-900\">Sesión con {session.therapist_name}</h3>\n                            <p className=\"text-sm text-gray-600\">\n                              {new Date(session.scheduled_datetime).toLocaleString(\"es-ES\")}\n                            </p>\n                            <span\n                              className={`inline-block px-2 py-1 text-xs rounded-full mt-2 ${\n                                session.status === \"confirmed\"\n                                  ? \"bg-green-100 text-green-800\"\n                                  : \"bg-yellow-100 text-yellow-800\"\n                              }`}\n                            >\n                              {session.status_display}\n                            </span>\n                          </div>\n                          {session.status === \"confirmed\" && session.video_link && (\n                            <Button size=\"small\" onClick={() => joinSession(session)}>\n                              Unirse\n                            </Button>\n                          )}\n                        </div>\n                      </div>\n                    ))}\n                </div>\n              ) : (\n                <p className=\"text-gray-500 text-center py-8\">No tienes sesiones programadas</p>\n              )}\n            </Card>\n\n            {/* Available Therapists */}\n            <Card>\n              <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">Terapeutas Disponibles</h2>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                {therapists.map((therapist) => (\n                  <div key={therapist.id} className=\"border border-gray-200 rounded-lg p-4\">\n                    <h3 className=\"font-medium text-gray-900\">\n                      {therapist.user.first_name} {therapist.user.last_name}\n                    </h3>\n                    <p className=\"text-sm text-gray-600 mb-2\">{therapist.specialty_display}</p>\n                    <p className=\"text-sm text-gray-500 mb-3\">{therapist.years_experience} años de experiencia</p>\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center\">\n                        <span className=\"text-yellow-400\">★</span>\n                        <span className=\"text-sm text-gray-600 ml-1\">{therapist.average_rating || \"N/A\"}</span>\n                      </div>\n                      <Button\n                        size=\"small\"\n                        onClick={() => handleBookSession(therapist)}\n                        disabled={!needsInitialTest ? false : true}\n                      >\n                        Agendar\n                      </Button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </Card>\n          </div>\n\n          {/* Sidebar */}\n          <div className=\"space-y-6\">\n            {/* Profile Summary */}\n            <Card>\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Mi Perfil</h3>\n              <div className=\"space-y-2\">\n                <p className=\"text-sm\">\n                  <span className=\"font-medium\">Email:</span> {user.email}\n                </p>\n                <p className=\"text-sm\">\n                  <span className=\"font-medium\">Teléfono:</span> {user.phone || \"No especificado\"}\n                </p>\n                {profile?.profile && (\n                  <>\n                    <p className=\"text-sm\">\n                      <span className=\"font-medium\">Test inicial:</span>{\" \"}\n                      <span className={profile.profile.initial_test_completed ? \"text-green-600\" : \"text-red-600\"}>\n                        {profile.profile.initial_test_completed ? \"Completado\" : \"Pendiente\"}\n                      </span>\n                    </p>\n                  </>\n                )}\n              </div>\n            </Card>\n\n            {/* Session History */}\n            <Card>\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Historial de Sesiones</h3>\n              <div className=\"space-y-2\">\n                <div className=\"flex justify-between text-sm\">\n                  <span>Total de sesiones:</span>\n                  <span className=\"font-medium\">{sessions.length}</span>\n                </div>\n                <div className=\"flex justify-between text-sm\">\n                  <span>Completadas:</span>\n                  <span className=\"font-medium text-green-600\">\n                    {sessions.filter((s) => s.status === \"completed\").length}\n                  </span>\n                </div>\n                <div className=\"flex justify-between text-sm\">\n                  <span>Canceladas:</span>\n                  <span className=\"font-medium text-red-600\">\n                    {sessions.filter((s) => s.status === \"cancelled\").length}\n                  </span>\n                </div>\n              </div>\n            </Card>\n          </div>\n        </div>\n      </div>\n\n      {/* Booking Modal */}\n      <Modal\n        isOpen={showBookingModal}\n        onClose={() => setShowBookingModal(false)}\n        title={`Agendar sesión con ${selectedTherapist?.user.first_name} ${selectedTherapist?.user.last_name}`}\n        size=\"large\"\n      >\n        <div className=\"space-y-4\">\n          <p className=\"text-gray-600\">Selecciona un horario disponible:</p>\n          <div className=\"grid grid-cols-2 gap-2 max-h-60 overflow-y-auto\">\n            {availableSlots.map((slot, index) => (\n              <Button\n                key={index}\n                variant=\"outline\"\n                size=\"small\"\n                onClick={() => confirmBooking(slot.datetime)}\n                className=\"text-left\"\n              >\n                <div>\n                  <div className=\"font-medium\">{slot.date}</div>\n                  <div className=\"text-sm text-gray-500\">{slot.time}</div>\n                </div>\n              </Button>\n            ))}\n          </div>\n          {availableSlots.length === 0 && (\n            <p className=\"text-center text-gray-500 py-4\">No hay horarios disponibles en los próximos 7 días</p>\n          )}\n        </div>\n      </Modal>\n    </div>\n  )\n}\n\nexport default PatientDashboard\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}